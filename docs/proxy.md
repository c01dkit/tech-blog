# 代理转发

## 多台电脑组局域网

可以使用[zerotier](https://www.zerotier.com/)，登录以后创建一个网络。然后需要组局域网的设备下载zerotier以后join上就行了。

## 内网穿透

需要公网服务器，可以在阿里云租一个

一种方法是frp

另一种方法是ssh正向连接配合反向连接：

首先内网服务器开个screen运行`ssh -R 127.0.0.1:1234:127.0.0.1:22 user@ip -p port`连接到云服务器上。这样的话服务器访问127.0.0.1:1234就相当于访问内网的127.0.0.1:22。然后需要连接内网的主机也开个screen运行`ssh -L 127.0.0.1:2345:127.0.0.1:1234 user@ip -p port`，这样的话该主机访问自己127.0.0.1:2345就相当于访问云服务器的127.0.0.1:1234。然后该主机再开一个终端，`ssh user@127.0.0.1 -p 2345`即可。

## 子网转发

希望将某端口收到的消息转发到其他主机的某一端口，可以试试socat，比如`socat TCP4-LISTEN:4320,fork TCP4:10.244.55.25:80`，可以把4320端口收到的TCP4数据包转发到子网10.244.55.25的80端口，配合zerotier可以实现内网对外开放端口。

